<link rel="import" href="../mg-elements.html?v=4">

<polymer-element name="mg-scaffold" is="auto-binding" attributes="page">

  <template>
      <link rel="stylesheet" href="mg-scaffold.css">
      <flatiron-director route="{{route}}" autoHash
                     on-director-route="{{routeChanged}}"></flatiron-director>
    <core-scaffold fit> 
      <core-header-panel mode="seamed" id="core_header_panel" navigation flex>
          <core-toolbar id="core_toolbar"></core-toolbar>
          <core-menu>
            <template repeat="{{page, i in pages}}">
              <core-item 
                icon="{{page.icon}}" 
                label="{{page.name}}" 
                active?="{{route == page.hash}}"
                class="{{ {'core-selected' : route == page.hash} | tokenList }}">
                <a href="#{{page.hash}}"></a>
              </core-item>
            </template>
          </core-menu>
        </core-header-panel>
        <core-toolbar tool flex>
        <div id="mg_logo" class="oxy" tool><span class="first-name">Marissa</span> <span class="last-name">Geoffroy.</span></div>
      </core-toolbar>

        <core-animated-pages fit class="content" selected="{{route}}" valueattr="hash" transitions="tile-cascade cross-fade slide-up slide-down">
            <mg-home hash="home"></mg-home>
            <mg-about hash="about"></mg-about>
            <mg-contact hash="contact"></mg-contact>
            <mg-portfolio hash="portfolio"></mg-portfolio>
          </core-scroll-header-panel>
        </core-animated-pages>

    </core-scaffold>
  </template>

  <script>

    Polymer(
      { pages:[
          {name: 'Home', hash: 'home', icon:'home'},
          {name: 'Portfolio', hash: 'portfolio', icon:'view-module'},
          {name: 'About', hash: 'about', icon:'account-box'},
          {name: 'Contact', hash: 'contact', icon:'mail'},
        ],
        ready: function(event){ 
          console.log("mg-scaffold ready");
          this.route = this.route || 'home';
          
        },
        routeChanged:function($r,$i){ console.log("routeChanged: ");}
      }
    );

  </script>

</polymer-element>